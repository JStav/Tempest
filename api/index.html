---
layout: apihome
title: WeatherFlow Tempest API & Developer Platform
---

<h2>Getting Started</h2>
<h3>Step 1. Review the Data Access Policy.</h3>
<p>Most third-party Tempest apps and integrations are designed for the personal use by a single Tempest System owner. To learn more, please read our Remote Data Access Policy. If you have an idea for an application or integration that goes beyond the personal use case, such as a general purpose app that accesses data from many Tempest locations, please contact us.</a>
<h3>Step 2. Authenticae (aka "Get an access token")</h3>
<p>To start using the REST or WS API, all you need is an access token. Your app or integration must ensure that the user viewing the station data is the owner of that station by authenticating the user’s account. There are two options for authentication: Oauth or the Personal Access Token.</p>
<p><b>OAuth Access Token</b>. OAuth is an open standard for authentication that provides a seamless integration between your app and the user’s Tempest account. OAuth is the way our official integrations (Amazon Echo, Google Home, IFTTT, etc.) work, and we strongly encourage you to use OAuth in any app with a web-based interface, including mobile apps. For more information on Oauth, please see the Tempest OAuth 2.0 Support section.</p>
<p><b>Personal Access Token</b>. If you have a simple app or integration that does not have a web-based interface (e.g., a downloadable script or a smart home configuration that does not have a graphical user interface), you should use the “personal access token” method. Your users will need to sign in to the Tempest Web App at tempestwx.com, then go to Settings -> Data Authorizations -> Create Token, then copy & paste that token into your app.</p>
<h5>Note: While OAuth is the preferred authentication method for production applications, the Personal Access Token is the simplest way to get started with the API - just sign in to your own account and generate one. You can add OAuth once your app or integration is ready for external testing.</h5>
<h3>Step 3. Dive in!</h3>
<p>Once you have an access token (either a personal or Oauth), you’re ready to start playing with the API. Here are the links to our full documentation for REST & WebSockets, along with a few simple examples to get you started:</p>
<h3><a href="">REST reference</a></h3>
<ul>
	<li>Examples:</li>
	<ul>
		<li>GET Station Meta Data</li>
		<div class="code-highlight">https://swd.weatherflow.com/swd/rest/stations?token=[your_access_token]</div>

	</ul>
</ul>
		GET Latest Station Observation
https://swd.weatherflow.com/swd/rest/observations/station/[your_station_id]?token=[your_access_token]
GET Latest Device Observation
https://swd.weatherflow.com/swd/rest/observations/?device_id=[your_device_id]&token=[your_access_token]
WebSockets reference
Examples:
Open a websocket connection
wss://ws.weatherflow.com/swd/data?token=[your_access_token]
Send a JSON message over the websocket connection to start listening for observations from the device. After sending this message your connected websocket client should receive a new observation JSON message every minute.
{ "type":"listen_start", "device_id":your_device_id, "id":"random-id-12345" }
Step 4. Join the Community.
If you haven’t already, head over to the developers section of our Community Forum, where friendly users swap ideas, information and help  (WeatherFlow staff is known to  lurk there regularly)
Step 5. Share your Creation.
Tell the World how great your awesome new application or integration is! An announcement to our Forum is a great place to start.
Can I access data from the hardware locally? To ensure access to the best data, all third-party applications and integrations should use the remote interfaces (REST & Websockets) as their primary source for data, even if they are running on the same network as the local Tempest device. There is also a local interface available for those applications that require completely off-grid applications, but this should only be used as a backup to the remote interfaces.
	
	
<p>This API gives access to observations and meta data for WeatherFlow Smart Weather Stations.  REST services are available for pulling data. The API also supports websocket connections for pushing data to listening clients.</p>
<ul>
	<li>Websocket Data Streams
		<ul>
			<li>Device Observations</li>
			<li>Device Events</li>
			<li>Station Observations (federated) (coming soon 2017)</li>
			<li>Station Events</li>
		</ul>
	</li>
</ul>

<p>You can learn more about WeatherFlow Smart Weather at <a href="http://www.weatherflow.com/smart-home-weather-stations/">http://www.weatherflow.com/smart-home-weather-stations/</a> . To see an example of what you can do with this API visit the <a href="https://smartweather.weatherflow.com/share/690/grid">Smart Weather website</a>.</p>

<h2><a name="getting-started">Getting Started</a></h2>

<p>During development and for any use that is strictly personal (one user, yourself), use this development API key:</p>
		<ul>
			<li><span class="code-highlight">20c70eae-e62f-4d3b-b3a4-8586e90f3ac8</span></li>
			<li>Note, this key has some limitations in terms of frequency of requests and volume of data</li>
			<li>Please be aware that rights to data access my be revoked at any time for any reason. This may include, but not limited to,  the number of stations accessible per key, frequency of requests, and volume of data.</li>
		</ul>
<p>When ready to deploy an applications/integration intended for use by others (more than one user, not yourself):</p>
		<ul>
			<li>Please <a href="mailto:support@weatherflow.com?subject=Smart Weather API Key Request">contact us</a> to obtain your own API key.</li>
			<li>Please include a description of the app or integration you're working on, and any other helpful information.</li>
		</ul>
<p>Demo Station and Devices</p>
		<ul>
			<li>station_id = 690</li>
			<li>(Air) device_id = 1110</li>
		</ul>
<h3>REST</h3>
		<ul>
			<li>Use the REST API Reference to see and test all services.
				<ul>
					<li>Use the "Authorization" button to either enter your API Key or use the Oauth2 path to connect to your Smart Weather user account.
						<ul>
							<li>If you do not do this step the API will respond with "401 Unauthorized"</li>
						</ul>
					</li>
					<li>Find a station_id (this is the id of your Station). The easiest way to do this is sign into you Smart Weather account using a browser and go to an observation list view for a Station. You should see a URL that includes a station_id that looks something like this.
						<ul>
							<li><a href="https://smartweather.weatherflow.com/station/690" class="code-highlight">https://smartweather.weatherflow.com/station/690</a></li>
						</ul>
					</li>
					<li>Try the stations service using the station_id. The response should contain all of the meta data for the Station. Make note of a device_id so you can use it later to get observations.</li>
					<li>Try the observations service using just the device_id. If you only send the device_id in the request you should see the latest observation in the response.</li>
				</ul>
			</li>
			<li>Examples (using the Demo Station and Device)
				<ul>
					<li>GET Station Meta Data
						<ul>
							<li><a href="https://swd.weatherflow.com/swd/rest/stations/690?api_key=20c70eae-e62f-4d3b-b3a4-8586e90f3ac8" class="code-highlight">https://swd.weatherflow.com/swd/rest/stations/690?api_key=20c70eae-e62f-4d3b-b3a4-8586e90f3ac8</a></li>
						</ul>
					</li>
					<li>GET Latest Device Observation
						<ul>
							<li><a href="https://swd.weatherflow.com/swd/rest/observations/?device_id=1110&api_key=20c70eae-e62f-4d3b-b3a4-8586e90f3ac8" class="code-highlight">https://swd.weatherflow.com/swd/rest/observations/?device_id=1110&api_key=20c70eae-e62f-4d3b-b3a4-8586e90f3ac8</a></li>
						</ul>
					</li>
					<li>GET Latest Station Observation
						<ul>
							<li><a href="https://swd.weatherflow.com/swd/rest/observations/station/690?api_key=20c70eae-e62f-4d3b-b3a4-8586e90f3ac8" class="code-highlight">https://swd.weatherflow.com/swd/rest/observations/station/690?api_key=20c70eae-e62f-4d3b-b3a4-8586e90f3ac8</a></li>
						</ul>
					</li>
				</ul>
			</li>
		</ul>
<h3>Websocket</h3>
		<ul>
			<li>Open a websocket connection
				<ul>
					<li class="code-highlight">wss://ws.weatherflow.com/swd/data?api_key=20c70eae-e62f-4d3b-b3a4-8586e90f3ac8</li>
				</ul>
			</li>
			<li>Send a JSON message over the websocket connection to start listening for observations from the demo Device.  After sending this message your connected websocket client sould receive a new observation JSON message every minute.
				<ul>
					<li class="code-highlight">
{
  "type":"listen_start",
  "device_id":1110,
  "id":"random-id-12345"
}
					</li>
				</ul>
			</li>
		</ul>

<h2>Object Model</h2>
<img src="{{site.url}}/images/swd_object_model.jpg" alt="WeatherFlow Smart Weather API Object Model" style="width:100%" />

<h2><a name="security">Security</a></h2>
<p>Smart Weather Station users have the option of setting the data for each of their stations as either public or private. The API has two access levels (Public and User).</p>

<ul>
	<li>Public Access Level with API Key
		<ul>
			<li>Access to all Stations currently set as "public"</li>
			<li>REST - Send your API Key as "api_key" in the query string with all API requests</li>
			<li>Websocket - Send your API Key as "api_key" in the query string when opening the websocket connection</li>
		</ul>
	</li>
	<li>User Access Level with Oauth2 Access Token
		<ul>
			<li>Access to all data owned by the user's access token</li>
			<li>Access to all Stations currently set as "public"</li>
			<li>Oauth2 Implicit Flow
				<ul>
					<li>Use this flow to get an access token that never expires. This is the token you send with all API requests.</li>
				</ul>
			</li>
			<li>REST - Send the Access Token as "token" in the query string with all API requests</li>
			<li>Websocket - Send the Access Token as "token" in the query string when opening the websocket connection</li>
		</ul>
	</li>
</ul>

<h2><a name="api-reference">REST API Reference</a></h2>
<p><a href="{{site.url}}/api/swagger" target="_blank">Rest API Reference</a>.</p>
<p><a href="{{site.url}}/api/remote-developer-policy.html">Remote Data Access Policy</a>.</p>

<h2><a name="ws-api-reference">Websocket API Reference</a></h2>
<p><a href="{{site.url}}/api/ws.html" target="_blank">Websocket API Reference</a>.</p>
<p><a href="{{site.url}}/api/remote-developer-policy.html">Remote Data Access Policy</a>.</p>

<h2><a name="ws-api-reference">UDP Broadcast Reference</a></h2>
<p><a href="{{site.url}}/api/udp.html" target="_blank">UDP Broadcast Reference</a>.</p>

<h2><a name="ble-reference">BLE Reference</a></h2>
<p>coming soon</p>
